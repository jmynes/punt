# =============================================================================
# PUNT Environment Configuration
# =============================================================================
# Copy this file to .env and fill in the required values.
#
# For demo mode (no database), you only need AUTH_SECRET and NEXT_PUBLIC_DEMO_MODE.
# For full mode, you need DATABASE_URL and AUTH_SECRET at minimum.
# =============================================================================

# -----------------------------------------------------------------------------
# Database (PostgreSQL 16+) -- REQUIRED for full mode
# -----------------------------------------------------------------------------
# Connection string format: postgresql://USER:PASSWORD@HOST:PORT/DATABASE
#
# Local setup:
#   1. Install PostgreSQL 16+ (see README.md for platform-specific instructions)
#   2. Create user and database:
#        sudo -u postgres psql
#        CREATE USER punt WITH PASSWORD 'punt';
#        CREATE DATABASE punt OWNER punt;
#   3. Use the connection string below (adjust if your setup differs)
#
DATABASE_URL="postgresql://punt:punt@localhost:5432/punt"

# -----------------------------------------------------------------------------
# Authentication -- REQUIRED
# -----------------------------------------------------------------------------
# Secret key for signing JWT tokens. Generate a secure random value:
#   openssl rand -base64 32
#
AUTH_SECRET="your-secret-key-here"

# Canonical URL of your application (no trailing slash).
# Set this in production to prevent host header injection attacks.
# Not needed for local development.
# Example: https://punt.example.com
# NEXTAUTH_URL="https://your-domain.com"

# Trust the host header for Auth.js.
# Set to true when:
#   - Running locally with `pnpm start` (not `pnpm dev`)
#   - Running behind a trusted reverse proxy (nginx, Cloudflare, etc.)
# AUTH_TRUST_HOST=true

# -----------------------------------------------------------------------------
# Demo Mode -- set to run without a database
# -----------------------------------------------------------------------------
# When enabled, all data is stored in the browser's localStorage.
# No PostgreSQL connection is needed.
# NEXT_PUBLIC_DEMO_MODE=true

# -----------------------------------------------------------------------------
# Optional Settings
# -----------------------------------------------------------------------------

# Enable debug logging (detailed logs in browser console)
NEXT_PUBLIC_DEBUG=false

# Trust reverse proxy headers (X-Forwarded-For) for rate limiting.
# WARNING: Only set to true behind a trusted reverse proxy. If enabled without
# one, clients can spoof their IP to bypass rate limiting.
TRUST_PROXY=false

# -----------------------------------------------------------------------------
# MCP Server Authentication
# -----------------------------------------------------------------------------
# MCP API keys are per-user and managed in the web UI.
# Users generate their key via Profile > Integrations > MCP API Key.
# The key is sent via X-MCP-API-Key header to authenticate MCP requests.

# -----------------------------------------------------------------------------
# Email Configuration (optional)
# -----------------------------------------------------------------------------
# Choose one provider and set the corresponding credentials.
# Configure the provider and settings in the Admin panel after first login.

# Resend API (https://resend.com)
# EMAIL_RESEND_API_KEY=re_your_api_key_here

# SMTP (for self-hosted mail servers)
# EMAIL_SMTP_PASSWORD=your_smtp_password_here
